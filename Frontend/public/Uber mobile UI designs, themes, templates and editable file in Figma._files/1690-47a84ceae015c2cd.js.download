(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1690],{68672:function(e,t,o){"use strict";o.d(t,{Gs:function(){return i},rm:function(){return r}});var n=o(24302);let s=(0,n.oM)({name:"user",initialState:{feedBackSeen:!1,callSeen:!1,figmaCopySeen:!1},reducers:{ToggleSeenFeedBackModal:(e,t)=>{e.feedBackSeen=t.payload},ToggleSeenCallModal:(e,t)=>{e.callSeen=t.payload},ToggleFigmaCopySeen:(e,t)=>{e.figmaCopySeen=t.payload}}}),{ToggleSeenFeedBackModal:a,ToggleSeenCallModal:i,ToggleFigmaCopySeen:r}=s.actions;t.ZP=s.reducer},27344:function(e,t,o){"use strict";o.d(t,{DI:function(){return a},SG:function(){return d},W3:function(){return i},rh:function(){return r}});var n=o(24302);let s=(0,n.oM)({name:"userInteractionModal",initialState:{numberOfQueries:0,numberOfDownloads:0,userid:""},reducers:{addQuery:(e,t)=>{e.numberOfQueries=e.numberOfQueries+t.payload.query,e.numberOfDownloads=e.numberOfDownloads,e.userid=t.payload.userid},addDownload:(e,t)=>{e.numberOfQueries=e.numberOfQueries,e.numberOfDownloads=e.numberOfDownloads+t.payload.download,e.userid=t.payload.userid},updateQuery:(e,t)=>{e.numberOfQueries=t.payload.query,e.numberOfDownloads=e.numberOfDownloads,e.userid=t.payload.userid},updateDownload:(e,t)=>{e.numberOfQueries=e.numberOfQueries,e.numberOfDownloads=t.payload.download,e.userid=t.payload.userid}}}),{addQuery:a,addDownload:i,updateQuery:r,updateDownload:d}=s.actions;t.ZP=s.reducer},47704:function(e,t,o){"use strict";o.d(t,{cn:function(){return a}});var n=o(24302);let s=(0,n.oM)({name:"user",initialState:{signedInUser:[],idToken:""},reducers:{addUser:(e,t)=>{e.signedInUser=t.payload},addIdToken:(e,t)=>{e.idToken=t.payload}}}),{addUser:a,addIdToken:i}=s.actions;t.ZP=s.reducer},81716:function(e,t,o){"use strict";o.r(t);var n=o(57437),s=o(79512),a=o(69564),i=o(24033),r=o(3198),d=o(13184);t.default=()=>{let e=(0,r.v9)(e=>e.home.width),t=(0,r.v9)(e=>e.home.inspect),o=(0,r.v9)(e=>e.home.inspectData),l=(0,r.v9)(e=>e.home.showSignInToast),c=(0,r.I0)(),handleInspect=e=>{c((0,d.CF)(e))},handleShowSignInToast=e=>{c((0,d.kI)(e))},u=(0,i.useRouter)(),p=(0,i.usePathname)(),h=t?"/design/".concat(null==o?void 0:o.app_name,"/").concat(null==o?void 0:o.screen_id):p,handleNavigate=e=>{u.push(e)};return l?(0,n.jsx)(a.Z,{overrides:{Body:{style:{display:"flex",padding:"8px 12px",alignItems:"flex-start",gap:e>768?"100px":"50px",position:"fixed",top:"2%",right:"2%",borderRadius:"12px",background:"#FFF",boxShadow:"0px 4px 24px 0px rgba(0, 0, 0, 0.08)",zIndex:"9999999999999999",width:"max-content"}},CloseIcon:{style:{borderRadius:"50%",background:"#191C1F",color:"#FFF",height:"24px",width:"24px"}}},onClose:()=>handleShowSignInToast(!1),closeable:!0,children:(0,n.jsxs)("div",{style:{display:"flex",flexDirection:"column",alignItems:"flex-start",gap:"8px"},children:[(0,n.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"8px",color:"#191C1F",fontFamily:"Instrument Sans",fontSize:"16px",fontStyle:"normal",fontWeight:"500",lineHeight:"normal"},children:[(0,n.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",children:[(0,n.jsx)("path",{d:"M12 22C17.5 22 22 17.5 22 12C22 6.5 17.5 2 12 2C6.5 2 2 6.5 2 12C2 17.5 6.5 22 12 22Z",stroke:"#191C1F",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),(0,n.jsx)("path",{d:"M12 8V13",stroke:"#191C1F",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),(0,n.jsx)("path",{d:"M11.9946 16H12.0036",stroke:"#191C1F",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]}),"Please sign in to continue"]}),(0,n.jsx)(s.Z,{overrides:{BaseButton:{style:{borderRadius:"12px",background:"#191C1F",color:"#FFF"}}},onClick:()=>{t&&handleInspect(!1),"/signin"===p||"/signup"===p?(handleShowSignInToast(!1),handleNavigate("/signin")):(handleShowSignInToast(!1),handleNavigate("/signin?redirect="+h))},children:"Sign In"})]})}):null}},29194:function(e,t,o){"use strict";o.r(t);var n=o(57437),s=o(29222),a=o(2265),i=o(13934),r=o(15633),d=o(3198);o(88044);var l=o(13184),c=o(96237),u=o(69428);t.default=()=>{let e=(0,d.v9)(e=>e.home.isUserDescModalOpen),t=(0,d.v9)(e=>e.home.width),o=(0,d.v9)(e=>e.user.signedInUser),[p,h]=(0,a.useState)("");(0,a.useEffect)(()=>{Object.keys(o||{}).length>0&&h(null==o?void 0:o.uid)},[o]);let{enqueue:m}=(0,r.Ds)(),[f,g]=(0,a.useState)([]),[x,y]=(0,a.useState)(!1),[v,C]=(0,a.useState)(""),b=(0,d.I0)(),{addSlackAlert:k}=(0,c.useSlackAlerts)();async function updateUserType(e){try{let t=await s.Z.post("".concat("https://flash.figr.design","/api/updateUserData"),{_id:p,user_type:e});console.log("response",t),!0===t.data.success&&(b((0,l.fI)(!1)),b((0,l.Kv)(!0)))}catch(t){console.log("error",t),m({message:"Something went wrong",kind:"error"});let e=(0,u.Z)(t,"/api/updateUserData","User Desc Modal");k(e,"Error")}}return(0,a.useEffect)(()=>{console.log("selectedUserTypes",f)},[f]),(0,n.jsxs)(i.Z,{onClose:()=>{b((0,l.fI)(!1)),b((0,l.Kv)(!0))},isOpen:e,animate:!0,autoFocus:!0,closeable:!1,unstable_ModalBackdropScroll:!0,size:"default",role:"dialog",overrides:{Root:{style:{zIndex:1e5,position:"fixed",top:"0",left:"0",width:"100%",height:"100%"}},Dialog:{style:{zIndex:100001,margin:"0",height:"auto",width:t>992?"50%":t>768?"80%":"90%",display:"flex",flexDirection:"column",padding:t>992?"32px":"20px",alignItems:"center",gap:t>992?"24px":"15px",flexShrink:"0",borderRadius:"12px",backgroundColor:"var(--pure-white, #FFF)",boxShadow:"0px 4px 24px 0px rgba(0, 0, 0, 0.08)"}}},children:[(0,n.jsx)("div",{className:"userDesc-modal-header",children:(0,n.jsx)("div",{className:"userDesc-modal-header-title",children:"What describes you best?"})}),(0,n.jsxs)("div",{className:"userDesc-modal-body",children:[[{name:"UI Designer"},{name:"UX Designer"},{name:"UX Researcher"},{name:"Product Manager"},{name:"Entrepreneur"},{name:"Developer"}].map((e,t)=>(0,n.jsxs)(a.Fragment,{children:[(0,n.jsxs)("div",{className:"userDesc-modal-body-item",children:[(0,n.jsx)("div",{className:"userDesc-modal-body-item-name",children:e.name}),(0,n.jsx)("div",{className:"userDesc-modal-body-item-checkbox",children:(0,n.jsx)("input",{type:"checkbox",id:e.name,name:e.name,value:e.name,onChange:t=>{t.target.checked?g([...f,e.name]):g(f.filter(t=>t!==e.name))}})})]},t),(0,n.jsx)("hr",{})]},t)),(0,n.jsxs)("div",{className:"userDesc-modal-body-item",children:[(0,n.jsx)("div",{className:"userDesc-modal-body-item-name",children:"Other"}),(0,n.jsx)("div",{className:"userDesc-modal-body-item-checkbox",children:(0,n.jsx)("input",{type:"checkbox",id:"other",name:"other",value:"other",onChange:e=>{e.target.checked?y(!0):y(!1)}})})]}),x&&(0,n.jsx)("div",{className:"userDesc-modal-body-item",children:(0,n.jsx)("div",{className:"userDesc-modal-body-item-input",children:(0,n.jsx)("input",{type:"text",id:"other",name:"other",placeholder:"Enter your description",onChange:e=>{C(e.target.value)},value:v})})})]}),(0,n.jsx)("div",{className:"userDesc-modal-footer",children:(0,n.jsx)("button",{className:"userDesc-modal-footer-button",disabled:0===f.length&&(!x||x&&""===v),onClick:()=>{0===f.length&&(!x||x&&""===v)?m({message:"Please select atleast one option",kind:"warning"}):x&&""!==v?updateUserType([...f,v]):updateUserType(f)},children:"Continue"})})]})}},23013:function(e,t,o){"use strict";o.d(t,{r:function(){return useAddToCollection}});var n=o(57437),s=o(29222),a=o(15633),i=o(24033),r=o(3198),d=o(60171),l=o(19830),c=o(13184);let useAddToCollection=()=>{let{enqueue:e}=(0,a.Ds)(),t=(0,r.I0)(),o=(0,i.useRouter)(),handleClick=e=>{t((0,c.CF)(!1)),o.push("/collection/".concat(e))},addToCollection=async(o,a,i,r)=>{if((null==i?void 0:i.uid)==""){t((0,c.kI)(!0));return}let u={name:a.name,description:a.description,user_id:null==i?void 0:i.uid,collection_id:a.id,card_data:o,notes:"",creator:null==i?void 0:i.name},p=await s.Z.post("https://flash.figr.design/api/collection",u),h=p.data;if(h.success){(0,d.toast)((0,n.jsx)("div",{className:"added-to-collection-toast",children:(0,n.jsxs)("div",{className:"toast-added-main",children:[(0,n.jsxs)("div",{className:"toast-added-main-text",children:[(0,n.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",children:(0,n.jsx)("path",{d:"M12 2C6.49 2 2 6.49 2 12C2 17.51 6.49 22 12 22C17.51 22 22 17.51 22 12C22 6.49 17.51 2 12 2ZM16.78 9.7L11.11 15.37C10.97 15.51 10.78 15.59 10.58 15.59C10.38 15.59 10.19 15.51 10.05 15.37L7.22 12.54C6.93 12.25 6.93 11.77 7.22 11.48C7.51 11.19 7.99 11.19 8.28 11.48L10.58 13.78L15.72 8.64C16.01 8.35 16.49 8.35 16.78 8.64C17.07 8.93 17.07 9.4 16.78 9.7Z",fill:"#49D799"})}),"Added to collection"]}),(0,n.jsx)("div",{style:{textDecoration:"none"},className:"toast-added-main-button",onClick:()=>handleClick(h.collection_id),children:"Go to collection"})]})}));let e=await s.Z.get("https://flash.figr.design/api/collection",{params:{id:null==i?void 0:i.uid}}),o=e.data;t((0,l.B)(o.collections))}"Design already exists in the collection"==h.message&&e({message:"Card already exists in this collection",kind:"negative"})};return{addToCollection}}},84093:function(e,t,o){"use strict";o.d(t,{O:function(){return useCopyFigma}});var n=o(57437),s=o(29222),a=o(15633),i=o(60171),r=o(13184),d=o(27344),l=o(96237),c=o(55242),u=o(69428);let useCopyFigma=()=>{let{enqueue:e}=(0,a.Ds)(),{addSlackAlert:t}=(0,l.useSlackAlerts)(),copyFigma=async(o,n,a,i,d,l)=>{let p=!!a&&a.isPremium;if((null==a?void 0:a.uid)===""){d((0,r.kI)(!0));return}if(!p&&(null==o?void 0:o.Pro)==="Pro"){d((0,r.pM)(!0));return}l(!0);try{let t={id:a.uid,screen:o},n=c.Z.BASE_URL,u={...t},p=await s.Z.post(n+"copyFigma",u,{headers:{"Content-Type":"application/json"}}),h=await p.data;h.success?(d((0,r.kI)(!1)),d((0,r.pM)(!1)),handleCopyFigma(a,i,h.figma_code,d)):"You have reached your download limit."===h.message?(e({message:"You have reached your download limit.",kind:"negative"}),setTimeout(()=>{d((0,r.pM)(!1))},1e3)):e({message:"Failed to copy link to clipboard",kind:"negative"}),l(!1)}catch(n){console.log(n),e({message:"Failed to copy link to clipboard",kind:"negative"}),l(!1);let o=(0,u.Z)(n,"/api/copyFigma","Copy Figma Hook");t(o,"Error")}};return{copyFigma}},handleCopyFigma=async(e,t,o,s)=>{try{let a=new ClipboardItem({"text/html":new Blob([o],{type:"text/html"})});await navigator.clipboard.write([a]),i.toast.success((0,n.jsx)("div",{style:{color:"#fff",fontSize:"14px"},children:"Editable File Copied to Clipboard"}),{theme:"dark",autoClose:2e3}),(0,i.toast)((0,n.jsx)("div",{style:{color:"#fff",fontSize:"14px"},children:"Now paste in Figma by Ctrl+V or Cmd+V"}),{theme:"dark"}),s((0,d.W3)({download:1,userid:e?e.uid:t}))}catch(a){console.error(a),(0,i.toast)((0,n.jsx)("div",{className:"copy-toast",children:(0,n.jsxs)("div",{className:"copy-toast-items",children:[(0,n.jsx)("div",{className:"copy-toast-item1",children:"Your Browser requires two clicks to copy"}),(0,n.jsx)("div",{className:"copy-toast-item2",children:"Please Click here"}),(0,n.jsx)("div",{className:"copy-toast-btn",onClick:async()=>{let a=new ClipboardItem({"text/html":new Blob([o],{type:"text/html"})});navigator.clipboard.write([a]).then(()=>{i.toast.success((0,n.jsx)("div",{style:{color:"#fff",fontSize:"14px"},children:"Editable File Copied to Clipboard"}),{theme:"dark",autoClose:2e3}),(0,i.toast)((0,n.jsx)("div",{style:{color:"#fff",fontSize:"14px"},children:"Now paste in Figma by Ctrl+V or Cmd+V"}),{theme:"dark"}),s((0,d.W3)({download:1,userid:e?e.uid:t}))}).catch(e=>{console.error(e),i.toast.error((0,n.jsx)("div",{style:{color:"#fff",fontSize:"14px"},children:"Failed to copy"}),{theme:"dark",autoClose:2e3})})},children:"Copy Figma Design"})]})}),{autoClose:!1,bodyClassName:"copy-toast-body",className:"copy-toast-container",closeButton:(0,n.jsx)("div",{className:"copy-toast-close-btn",children:(0,n.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",children:[(0,n.jsx)("path",{d:"M12 22C17.5 22 22 17.5 22 12C22 6.5 17.5 2 12 2C6.5 2 2 6.5 2 12C2 17.5 6.5 22 12 22Z",stroke:"#191C1F",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),(0,n.jsx)("path",{d:"M9.16992 14.8299L14.8299 9.16992",stroke:"#191C1F",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),(0,n.jsx)("path",{d:"M14.8299 14.8299L9.16992 9.16992",stroke:"#191C1F",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})]})})})}}},79002:function(e,t,o){"use strict";o.d(t,{Ap:function(){return d},I8:function(){return r},Ry:function(){return signInWithEmail},h8:function(){return deleteUser}});var n=o(20994),s=o(53085),a=o(24086);let i=(0,n.C6)().length>0?(0,n.Mq)():(0,n.ZF)({apiKey:"AIzaSyDy0phNcDWL1Z0EnisCGsUU1zB5IcDPw5M",authDomain:"figr-1e584.firebaseapp.com",databaseURL:"https://figr-1e584-default-rtdb.asia-southeast1.firebasedatabase.app",projectId:"figr-1e584",storageBucket:"figr-1e584.appspot.com",messagingSenderId:"1012418075071",appId:"1:1012418075071:web:de17301591644668f4e90a",measurementId:"G-8QGVPT4SRB"}),r=(0,s.v0)(i);(0,a.ad)(i);let deleteUser=()=>r.currentUser.delete(),d=new s.hJ,signInWithEmail=(e,t)=>(0,s.e5)(r,e,t)},23676:function(e,t,o){"use strict";o.r(t),o.d(t,{AuthContext:function(){return l},AuthContextProvider:function(){return AuthContextProvider},useAuthContext:function(){return useAuthContext}});var n=o(57437),s=o(53085),a=o(2265),i=o(3198),r=o(47704),d=o(79002);let l=(0,a.createContext)({}),useAuthContext=()=>(0,a.useContext)(l),AuthContextProvider=e=>{let{children:t}=e,[o,c]=(0,a.useState)(null),[u,p]=(0,a.useState)(null),[h,m]=(0,a.useState)(!0),f=(0,i.I0)();(0,a.useEffect)(()=>{let e=(0,s.Aj)(d.I8,async e=>{if(e){c(e),f((0,r.cn)(e));let t=await e.getIdToken();p(t)}else c(null),p(null),f((0,r.cn)(null));m(!1)});return()=>e()},[f]);let g=(0,a.useMemo)(()=>({user:o,idToken:u,loading:h}),[o,u,h]);return(0,n.jsx)(l.Provider,{value:g,children:t})}},83862:function(e,t,o){"use strict";o.r(t),o.d(t,{FunctionsProvider:function(){return FunctionsProvider},useTemplatesRef:function(){return useTemplatesRef},useVideoRef:function(){return useVideoRef}});var n=o(57437),s=o(2265);let a=(0,s.createContext)(),useTemplatesRef=()=>(0,s.useContext)(a).templatesRef,useVideoRef=()=>(0,s.useContext)(a).videoRef,FunctionsProvider=e=>{let{children:t}=e,o=(0,s.useRef)(null),i=(0,s.useRef)(null);return(0,n.jsx)(a.Provider,{value:{templatesRef:o,videoRef:i},children:t})}},55242:function(e,t){"use strict";t.Z={BASE_URL:"https://api.figr.design/"}},88044:function(){}}]);